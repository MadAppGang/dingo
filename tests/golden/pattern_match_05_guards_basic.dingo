package main

// Test: Basic pattern guards with 'if' keyword
// Feature: Pattern matching with runtime guard conditions
// Complexity: basic

enum Result {
	Ok(int),
	Err(error),
}

// Simple guard on Result type
func classifyNumber(result Result) string {
	return match result {
		Result_Ok(x) if x > 0 => "positive",
		Result_Ok(x) if x < 0 => "negative",
		Result_Ok(_) => "zero",
		Result_Err(e) => "error",
	}
}

// Guard with multiple conditions
func validateAge(result Result) string {
	return match result {
		Result_Ok(age) if age >= 18 && age < 65 => "adult",
		Result_Ok(age) if age >= 65 => "senior",
		Result_Ok(_) => "minor",
		Result_Err(_) => "invalid",
	}
}

// Guard with function call
func checkLength(result Result) string {
	return match result {
		Result_Ok(n) if isEven(n) => "even",
		Result_Ok(_) => "odd",
		Result_Err(_) => "error",
	}
}

func isEven(n int) bool {
	return n%2 == 0
}

func main() {
	println(classifyNumber(Result_Ok(42)))
	println(validateAge(Result_Ok(25)))
	println(checkLength(Result_Ok(10)))
}
